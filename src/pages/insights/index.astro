---
import { sanityClient } from 'sanity:client';
import { blogCardFields } from '../../components/global/utils/cms-queries';
import LayoutDomaineBlogIndex from '../../layouts/Layout-Domaine-BlogIndex.astro';
import { allBlogPosts_Domaine } from '../../components/global/utils/cms-content';

const pageSettings = await sanityClient.fetch(`*[_type == "page_blog-index" && _id == "page_blog-index-domaine"][0]`)
const blogPosts = allBlogPosts_Domaine
---
<LayoutDomaineBlogIndex
    title={pageSettings.title}
    pageSettings={pageSettings}
    blogPosts={blogPosts}
    heading={pageSettings.title}
    subheading={pageSettings.heading}
    searchFilter="type:page"
>
</LayoutDomaineBlogIndex>
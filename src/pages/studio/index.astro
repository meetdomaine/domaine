---
import { sanityClient } from "sanity:client";
import { globalSectionsFields, imageFields, videoFields, projectGridFields } from "../../lib/cms-queries";
import LayoutStudio from "../../layouts/Layout-Studio.astro";
import HomeHero from "../../components/studio/sections/home/home-Hero.astro";
import GlobalSections from "../../components/global/sections/section-GlobalSections.astro";
import AtomSanityMedia from "../../components/global/atoms/atom-sanityMedia.astro";
import LayoutStudioHome from "../../layouts/Layout-Studio_Home.astro";

const pageSettings = await sanityClient.fetch(`
    *[_type == "page_home-studio"][0]{ 
        ...,
        projects[]{
            project->{${projectGridFields}},
            image{${imageFields}}
        },
        globalSections{ 
            sections[]{${globalSectionsFields}}
        }, 
        media{ 
            ..., 
            ${imageFields}, 
            ${videoFields} 
        } 
    }
`)

// console.log(pageSettings)
---
<LayoutStudioHome 
    content={pageSettings}
/>
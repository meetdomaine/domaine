
<script>
  
  const animateLoad = () => {
    let animatedElements = document.querySelectorAll('[data-animate-load="true"]')

    animatedElements.forEach((element) => {
      if (element instanceof HTMLElement) {

        const delay = element.dataset.animateDelay ? parseFloat(element.dataset.animateDelay) : 0
        
        setTimeout(() => {
          return element.dataset.animateLoad = "false"
        }, delay)
      }
    })

  }

  // Only fires on initial navigation
  // document.addEventListener("DOMContentLoaded", () => {
  //   animateLoad()
  // })

  // Fires on each page change
  document.addEventListener('astro:page-load', () => {
    animateLoad()
  });
  
</script>
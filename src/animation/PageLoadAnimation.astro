
<script>
  
  const animateLoad = () => {
    let animatedElements = document.querySelectorAll('[data-animate-load="true"]')

    animatedElements.forEach((element) => {
      if (element instanceof HTMLElement) {

        const delay = element.dataset.animateDelay ? parseFloat(element.dataset.animateDelay) : 0
        
        setTimeout(() => {
          return element.dataset.animateLoad = "false"
        }, delay)
      }
    })
  }

  // Only fires on initial navigation

  // Fires on each page change
  // document.addEventListener('astro:page-load', () => {
  //   console.log('astro ready')
  //   animateLoad()
  // });

  document.addEventListener('DOMContentLoaded', () => {
    // console.log('DOM')
    animateLoad()
  });

  // document.addEventListener('astro:after-swap', () => {
  //   // console.log('after swap')
  //   animateLoad()
  // });
  
</script>
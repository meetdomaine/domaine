---
import LayoutStudio from './Layout-Studio.astro';
import GlobalBlogFilter from '../components/global/blog/global-BlogFilter.astro';
import GlobalBlogIndexHero from '../components/global/blog/global-BlogIndexHero.astro';
import GlobalBlogGrid from '../components/global/blog/global-BlogGrid.astro';
import SectionBlogFeed from '../components/global/sections/section-BlogFeed.astro';
import SectionTextHeading from '../components/global/sections/section-TextHeading.astro';

const { title, description, heading, subheading, searchFilter, blogPosts, pageSettings, brand, slug, relatedBlogPosts, relatedPostsHeading, relatedPostsSubheading } = Astro.props;
---
<LayoutStudio
    title={ title ? title : pageSettings && pageSettings.metafields && pageSettings.metafields.title ? pageSettings.metafields.title : "Insights"}
    description={description ? description : pageSettings && pageSettings.metafields && pageSettings.metafields.description ? pageSettings.metafields.description : null}
    searchFilter={searchFilter}
    activePath="/studio/insights"
>
    <SectionTextHeading 
        title={heading}
        heading={subheading}
        largeHeading={true}
        count={blogPosts.length}
    />
    <GlobalBlogFilter 
        brand="studio"
        slug={slug}
    />
    <GlobalBlogGrid 
        blogPosts={blogPosts}
    />
    {relatedBlogPosts && 
        <SectionBlogFeed
            heading={relatedPostsHeading}
            subheading={relatedPostsSubheading}
            posts={relatedBlogPosts}
        />
    }
</LayoutStudio>

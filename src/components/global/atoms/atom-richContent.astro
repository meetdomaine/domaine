---
import { PortableText } from "astro-portabletext";
const { content, locale } = Astro.props

import InlineImage from "../sections/richContent/richContent-InlineImage.astro"
import YouTubeEmbed from "../sections/richContent/richContent-YouTubeEmbed.astro"
import CallToAction from "../sections/richContent/richContent-CallToAction.astro"
import Form from "../sections/richContent/richContent-Form.astro"
import ImageGallery from "../sections/richContent/richContent-ImageGallery.astro"
import Schema from "../sections/richContent/richContent-Schema.astro"
import Table from "../sections/richContent/richContent-Table.astro";
---
<div class="rich-content">
  <PortableText
    value={locale && content.translations?.[locale] ? content.translations[locale] : content.richContent }
    components={{
      type: {
          inlineImage: InlineImage,
          imageGallery: ImageGallery,
          form: Form,
          callToAction: CallToAction,
          table: Table,
          youTubeEmbed: YouTubeEmbed,
          schema: Schema
      }
      }}
  />
</div>

<style is:global>

  html,
  html[data-brand="Studio"] {

    .rich-content {
      /* --content-width: min(calc(100% - var(--page-margin) * 2), 45rem); */
      --content-width: min(calc(100% - var(--page-margin) * 2), 40rem);
      --content-width-wide: min(calc(100%), 60rem);
      /* flex: 0 1 auto; */
    }

    :not(.event-hero-content) > .rich-content {

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        margin-block-start: 1em;
        margin-block-end: 0.4em;
        text-wrap: balance;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      p,
      ul,
      ol {
        margin-inline: auto;
        max-width: var(--content-width);
      }
    }

    

    .rich-content > blockquote {
      margin-block: 1em 2em;
      margin-inline: auto;
      max-width: var(--content-width-wide);
    }

    .rich-content > ul,
    .rich-content > ol {
      margin-block: 1.5em;
      padding-inline-start: 2em;
    }

    .rich-content > ul li,
    .rich-content > ol li {
      margin-block-end: 1em;
    }

    .rich-content > :is(ul, ol) > li > :is(ul, ol) {
      margin-block: 1.5em;
      list-style-type: upper-roman;
      padding-inline-start: 1em;
    }



  }
</style>
---
import { getTranslationString } from "../../../lib/translations";
import AtomHubspotForm from "../atoms/atom-hubspotForm.astro";

const { section, key, hubspotFormId, heading, text, locale } = Astro.props;
const formId = section?.hubspotFormId ? section.hubspotFormId : hubspotFormId
const formHeading = section?.heading ? section.heading : heading
const formText = section?.subheading ? section.subheading : text
// console.log(key)
---
<section class="section-form">

    {formHeading && 
      <h2 class="section-title h5">{getTranslationString(formHeading, locale)}</h2>
    }

    <div class="section-content">
      {formText && <p class="h6">{getTranslationString(formText, locale)}</p>}
      <AtomHubspotForm 
        formId={formId}
        key={key}
      />
    </div>
</section>

<style>
    .section-form {
        padding-inline: var(--page-margin);
        padding-block: calc(var(--header-height) * 2) var(--space-2xl);
        display: flex;
        flex-direction: row;
        justify-content: center;
        gap: var(--space-2xl);
    }

    .section-title {
      max-width: 12em;
    }

    .section-content {
      max-width: 40rem;
      display: flex;
      flex-direction: column;
      gap: var(--space-xl);
    }

    @media screen and (width <= 768px) {
      .section-form {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-xs);
      }

      .section-title,
      .section-content {
        max-width: unset;
      }
    }

</style>
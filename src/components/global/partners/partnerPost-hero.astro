---
import { Icon } from "astro-icon/components"
import AtomSanityImage from "../atoms/atom-sanityImage.astro"
import AtomTag from "../atoms/atom-tag.astro"
import { getTranslationString } from "../../../lib/translations"


const { content, locale } = Astro.props
---
<section class="partner-hero">

  <div class="section-content">
    <div class="section-title">
      <div class="partner-icon">
        <AtomSanityImage 
          image={content.icon.image}
          sizes="30vw"
        />
      </div>
      <div class="title">
        <h1 class="partner-title h4">{content.title}</h1>
        <p class="partner-description caption">{getTranslationString(content.description, locale)}</p>
      </div>
    </div>

    <div class="partner-tags">
      <AtomTag 
        text={`${content.tier.title} Partner`}
        theme="glass-dark"
      />
      {content.websiteUrl && 
        <AtomTag 
          text={content.websiteText ? content.websiteText : content.websiteUrl}
          url={content.websiteUrl} 
          newTab={true}
        />
      }
    </div>
    <div class="social-links">
      {content.instagramUrl &&
        <a href={content.instagramUrl} class="social-link" target="_blank">
          <Icon name="social-instagram" />
        </a>
      }
      {content.twitterUrl &&
        <a href={content.twitterUrl} class="social-link" target="_blank">
          <Icon name="social-twitter" />
        </a>
      }
      {content.linkedInUrl &&
        <a href={content.linkedInUrl} class="social-link" target="_blank">
          <Icon name="social-linkedin" />
        </a>
      }
      {content.youTubeUrl &&
        <a href={content.youTubeUrl} class="social-link" target="_blank">
          <Icon name="social-youtube" />
        </a>
      }
      {content.tikTokUrl &&
        <a href={content.tikTokUrl} class="social-link" target="_blank">
          <Icon name="social-tiktok" />
        </a>
      }
    </div>
  </div>
  
  {content.excerpt && <h2 class="excerpt h1">{getTranslationString(content.excerpt, locale)}</h2>}

</section>

<style>

  .partner-hero {
    padding-top: calc(var(--header-height) * 2);
    padding-inline: var(--page-margin);
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    /* display: grid;
    grid-template-columns: 1fr 2fr; */
    gap: var(--space-lg);
    padding-block-end: var(--space-xl);
  }

  .section-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-md);
    max-width: 30rem;
    /* flex: 0 1 30rem; */
  }

  .section-title {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: var(--space-xs);
  }

  .title {
    margin: 0;
  }

  .partner-title,
  .partner-description {
    margin: 0;
    text-wrap: balance;
  }

  .partner-icon {
    flex: 0 0 6rem;
    border-radius: var(--radius-sm);
    overflow: hidden;
  }

  .partner-tags {
    display: flex;
    flex-direction: row;
    gap: var(--space-2xs);
  }

  .social-links {
    display: flex;
    flex-direction: row;
    gap: var(--space-md);
  }

  .social-link {
    text-decoration: none;
  }

  .social-link :global(svg) {
    width: var(--icon-md);
    height: var(--icon-md);
  }

  .excerpt {
    max-width: 18em;
    flex-grow: 0;
    /* flex: 0 0 auto; */
  }

  @media screen and (width <= 768px) {
    .partner-hero {
      display: flex;
      flex-direction: column;
    }
  }
</style>